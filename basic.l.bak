%option noyywrap yylineno
%{
    #include <stdio.h>
    #include "func.h"
    enum tok{
        var=256,
    };

%}

%%
"let"                   { printf("#%d LET\n",yylineno); }
"in"                    { printf("#%d IN\n", yylineno); }
"print"                 { printf("#%d PRINT\n", yylineno); }
"repeat"                { printf("#%d REPEAT\n", yylineno); }
"alpha"                 { printf("#%d ALPHA\n",yylineno); }
"beta"                  { printf("#%d BETA\n",yylineno); }
"iota"                  { printf("#%d IOTA\n",yylineno); }
"delta"                 { printf("#%d DELTA\n",yylineno); }


[a-zA-Z_][a-zA-Z_0-9]*  { printf("#%d ID %s\n",yylineno, yytext); }
[0-9]+                  { printf("#%d NUM %d\n", yylineno, atoi(yytext)); }
\. |
"(" |
")" |
"\\" |
"="                     { printf("#%d %c\n", yylineno, yytext[0]); }
[ \r\n\t] {}
"//".*      {}
.                       { printf("#%d Mystery character %c\n",yylineno, yytext[0]); }

%%
int main(){
    int tok;
    while(tok=yylex()){}

    return 0;
}